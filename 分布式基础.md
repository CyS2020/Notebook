### 分布式基础
1. 简述CAP理论
- 数据一致性(consistency)：数据写操作返回成功，那么之后的读请求都必须读到这个新数据；
如果返回失败，那么所有读操作都不能读到这个数据，对于调用者而言数据具有强一致性
- 服务可用性(availability)：所有读写请求在一定时间内得到相应，可终止，不会一直等待
- 分区容错性(partition-tolerance)：网络分区的情况下，被分隔的节点仍然能正常对外服务
注释：在分布式中 CA 是无法兼得的，分布式架构中要么 CP，要么 AP

2. 简述Base理论
- 基本可用：允许可用性降低（可能响应延长，可能服务降级）
- 软状态：指允许系统中的数据存在中间状态，并认为该中间状态不会影响系统整体可用性
- 最终一致性：节点数据同步可以存在时延，但在一定的期限后必须达成数据的一致，状态变为最终状态
注释：cap理论的一种妥协，由于cap只能二取其一，base理论降低了发生分区容错时对可用性和一致性的要求

3. 数据一致性模型有哪些
- 最终一致性：是弱一致性的特例，不一致窗口的时间主要受通信延迟，系统负载和复制副本的个数影响
- 因果一致性：要求有因果关系的操作顺序得到保证，非因果关系的操作顺序则无所谓
- 会话一致性：将对系统数据的访问过程框定在一个会话当中，约定了系统能在同一个有效的会话中实现
读己之所写的一致性
- 单调读一致性：后读到的不能比先读到的数据版本更旧
- 单调写一致性：后写一定要在先写成功的基础之上，也包含这因果一致性
- 读写一致性：自己写进去的自己也得能读出来

4. 选举算法Quorum、WARO机制
- WARO：一直能够简单副本控制协议，写操作时，只有当所有的副本都更新成功之后，写操作才算成功
- Quorum：10个副本，一次成功更新了三个，就算写操作成功，那么读则需要至少读八个副本的数据

5. paxos算法思想 - 共识算法
- 解决的是分布式系统如何就某个（决议）达成一致
- 阶段一 prepare：Proposer受到client请求，或者发现有未提交的值，选择提案编号N，想半数以上的Acceptor发送请求
- 阶段二 accept：如果Proposer（提案者）受到半数以上Acceptor（接收者）对齐发出的编号为N的Prepare响应
那么会发送一个针对[N, V]的提案，Acceptor比较N如果发来的N大则交给leaner（记录员），达成一致

6. raft算法
- leader、follower、candidate; leader负责接收客户端写请求，然后复制到follower节点，并在安全的时候执行请求