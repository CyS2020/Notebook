## 命令模式

-   在软件设计中，我们经常需要像某些对象发送请求，但是并不知道请求的接受者是谁，也不知道被请求的操作是哪个，我们只需要在程序运行时指定具体的请求接受者即可，此时可以使用命令模式来进行设计
-   命令模式使得请求发送者与请求接受者消除彼此之间的耦合，让对象之间的调用更加灵活，实现解耦
-   在命令模式中会将一个请求封装为一个对象，以便使用不同参数来表示不同的请求(即命令)，同时支持撤销
-   通俗理解，将军发布命令，士兵执行命令，将军(命令发布者)、士兵(命令的具体执行者)、命令(连接将军与兵)

### 实现方式

-   命令抽象为一个接口，由子类实现并提供具体的命令内容
-   调用者聚合一个命令接口，通过该接口发布命令
-   具体的命令子类聚合一个接收者，由接收者执行命令
-   调用者与接收者通过命令接口(及其子类)实现解耦
-   一个命令类只有执行和撤销操作，一次执行接收者类中的一个操作，接收者类可以写很多操作

### 注意事项

-   容易设计一个命令队列，只要把命令对象放到队列，就可以多线程的执行命令
-   容易实现请求的撤销和重做
-   不足：可能导致某些系统有过多的具体命令类，增加了系统的复杂度
-   空命令也是一种设计模式，为我们省去了判空的操作。
-   经典应用场景：界面的一个按钮都是一条命令、模拟CMD(DOS命令)，订单的撤销-恢复。触发-反馈机制

### 源码应用

-   Spring框架的Jdbc Template就使用到了命令模式